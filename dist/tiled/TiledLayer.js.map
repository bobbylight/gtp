{"version":3,"sources":["tiled/TiledLayer.ts"],"names":[],"mappings":"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","file":"tiled/TiledLayer.js","sourcesContent":["module tiled {\r\n\t'use strict';\r\n\r\n\texport class TiledLayer {\r\n\r\n\t\tmap: any;\r\n\t\tname: string;\r\n\t\twidth: number;\r\n\t\theight: number;\r\n\t\tdata: number[];\r\n\t\topacity: number;\r\n\t\tvisible: boolean;\r\n\t\ttype: string;\r\n\t\tx: number;\r\n\t\ty: number;\r\n\t\tobjects: TiledObject[];\r\n\t\tobjectsByName: { [name: string]: TiledObject };\r\n\r\n\t\tconstructor(map: any, data: any) {\r\n\t\t\tthis.map = map;\r\n\t\t\tthis.name = data.name;\r\n\t\t\tthis.width = data.width;\r\n\t\t\tthis.height = data.height;\r\n\t\t\tthis.data = data.data;\r\n\t\t\tthis.opacity = data.opacity;\r\n\t\t\tthis.visible = data.visible;\r\n\t\t\tthis.type = data.type;\r\n\t\t\tthis.x = data.x;\r\n\t\t\tthis.y = data.y;\r\n\t\t\tthis._setObjects(data.objects);\r\n\t\t}\r\n\r\n\t\tgetData(row: number, col: number): number {\r\n\t\t\tif (!this.data) { // An object layer\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tvar index: number = this._getIndex(row, col);\r\n\t\t\treturn this.data[index];\r\n\t\t}\r\n   \r\n\t\tsetData(row: number, col: number, value: number) {\r\n\t\t\tif (!this.data) { // An object layer\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar index: number = this._getIndex(row, col);\r\n\t\t\tthis.data[index] = value;\r\n\t\t}\r\n   \r\n\t\tprivate _getIndex(row: number, col: number): number {\r\n\t\t\treturn row * this.map.colCount + col;\r\n\t\t}\r\n   \r\n\t\tgetObjectByName(name: string): TiledObject {\r\n\t\t\treturn this.objectsByName ? this.objectsByName[name] : null;\r\n\t\t}\r\n   \r\n\t\tgetObjectIntersecting(x: number, y: number, w: number, h: number): TiledObject {\r\n\t\t\tif (this.objects) {\r\n\t\t\t\tfor (var i: number = 0; i < this.objects.length; i++) {\r\n\t\t\t\t\tvar obj: TiledObject = this.objects[i];\r\n\t\t\t\t\tif (obj.intersects(x, y, w, h)) {\r\n\t\t\t\t\t\treturn obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n   \r\n\t\tisObjectGroup(): boolean {\r\n\t\t\treturn this.type === 'objectgroup';\r\n\t\t}\r\n   \r\n\t\tprivate _setObjects(objects: any) {\r\n\t\t\t'use strict';\r\n\t\t\tif (objects) {\r\n\t\t\t\tthis.objects = [];\r\n\t\t\t\tthis.objectsByName = {};\r\n\t\t\t\tfor (var i: number = 0; i < objects.length; i++) {\r\n\t\t\t\t\tvar obj: TiledObject = new tiled.TiledObject(objects[i]);\r\n\t\t\t\t\tthis.objects.push(obj);\r\n\t\t\t\t\tthis.objectsByName[objects[i].name] = obj;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}"],"sourceRoot":"/source/"}