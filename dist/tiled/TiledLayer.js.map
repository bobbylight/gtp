{"version":3,"sources":["tiled/TiledLayer.ts"],"names":["tiled","tiled.TiledLayer","tiled.TiledLayer.constructor","tiled.TiledLayer.getData","tiled.TiledLayer.setData","tiled.TiledLayer._getIndex","tiled.TiledLayer.getObjectByName","tiled.TiledLayer.getObjectIntersecting","tiled.TiledLayer.isObjectGroup","tiled.TiledLayer._setObjects"],"mappings":"AAAA,IAAO,KAAK,CAsFX;AAtFD,WAAO,KAAK,EAAC,CAAC;IACbA,YAAYA,CAACA;IAEbA;QAeCC,oBAAYA,GAAQA,EAAEA,IAASA;YAC9BC,IAAIA,CAACA,GAAGA,GAAGA,GAAGA,CAACA;YACfA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;YACtBA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA;YACxBA,IAAIA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,MAAMA,CAACA;YAC1BA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;YACtBA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,OAAOA,CAACA;YAC5BA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,OAAOA,CAACA;YAC5BA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,IAAIA,CAACA;YACtBA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,CAACA;YAChBA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,CAACA;YAChBA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;QAChCA,CAACA;QAEDD,4BAAOA,GAAPA,UAAQA,GAAWA,EAAEA,GAAWA;YAC/BE,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;gBAChBA,MAAMA,CAACA,CAACA,CAACA,CAACA;YACXA,CAACA;YACDA,IAAIA,KAAKA,GAAWA,IAAIA,CAACA,SAASA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,CAACA;YAC7CA,MAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;QACzBA,CAACA;QAEDF,4BAAOA,GAAPA,UAAQA,GAAWA,EAAEA,GAAWA,EAAEA,KAAaA;YAC9CG,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA,CAACA;gBAChBA,MAAMA,CAACA,KAAKA,CAACA;YACdA,CAACA;YACDA,IAAIA,KAAKA,GAAWA,IAAIA,CAACA,SAASA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,CAACA;YAC7CA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,KAAKA,CAACA;QAC1BA,CAACA;QAEOH,8BAASA,GAAjBA,UAAkBA,GAAWA,EAAEA,GAAWA;YACzCI,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,QAAQA,GAAGA,GAAGA,CAACA;QACtCA,CAACA;QAEDJ,oCAAeA,GAAfA,UAAgBA,IAAYA;YAC3BK,MAAMA,CAACA,IAAIA,CAACA,aAAaA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA,GAAGA,IAAIA,CAACA;QAC7DA,CAACA;QAEDL,0CAAqBA,GAArBA,UAAsBA,CAASA,EAAEA,CAASA,EAAEA,CAASA,EAAEA,CAASA;YAC/DM,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;gBAClBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBACtDA,IAAIA,GAAGA,GAAgBA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA;oBACvCA,EAAEA,CAACA,CAACA,GAAGA,CAACA,UAAUA,CAACA,CAACA,EAAEA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA,CAACA;wBAChCA,MAAMA,CAACA,GAAGA,CAACA;oBACZA,CAACA;gBACFA,CAACA;YACFA,CAACA;YACDA,MAAMA,CAACA,IAAIA,CAACA;QACbA,CAACA;QAEDN,kCAAaA,GAAbA;YACCO,MAAMA,CAACA,IAAIA,CAACA,IAAIA,KAAKA,aAAaA,CAACA;QACpCA,CAACA;QAEOP,gCAAWA,GAAnBA,UAAoBA,OAAYA;YAC/BQ,YAAYA,CAACA;YACbA,EAAEA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA;gBACbA,IAAIA,CAACA,OAAOA,GAAGA,EAAEA,CAACA;gBAClBA,IAAIA,CAACA,aAAaA,GAAGA,EAAEA,CAACA;gBACxBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAWA,CAACA,EAAEA,CAACA,GAAGA,OAAOA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;oBACjDA,IAAIA,GAAGA,GAAgBA,IAAIA,KAAKA,CAACA,WAAWA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,CAACA;oBACzDA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;oBACvBA,IAAIA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,CAACA;gBAC3CA,CAACA;YACFA,CAACA;QACFA,CAACA;QAEFR,iBAACA;IAADA,CAlFAD,AAkFCC,IAAAD;IAlFYA,gBAAUA,aAkFtBA,CAAAA;AACFA,CAACA,EAtFM,KAAK,KAAL,KAAK,QAsFX","file":"tiled/TiledLayer.js","sourcesContent":["module tiled {\r\n\t'use strict';\r\n\r\n\texport class TiledLayer {\r\n\r\n\t\tmap: any;\r\n\t\tname: string;\r\n\t\twidth: number;\r\n\t\theight: number;\r\n\t\tdata: number[];\r\n\t\topacity: number;\r\n\t\tvisible: boolean;\r\n\t\ttype: string;\r\n\t\tx: number;\r\n\t\ty: number;\r\n\t\tobjects: TiledObject[];\r\n\t\tobjectsByName: { [name: string]: TiledObject };\r\n\r\n\t\tconstructor(map: any, data: any) {\r\n\t\t\tthis.map = map;\r\n\t\t\tthis.name = data.name;\r\n\t\t\tthis.width = data.width;\r\n\t\t\tthis.height = data.height;\r\n\t\t\tthis.data = data.data;\r\n\t\t\tthis.opacity = data.opacity;\r\n\t\t\tthis.visible = data.visible;\r\n\t\t\tthis.type = data.type;\r\n\t\t\tthis.x = data.x;\r\n\t\t\tthis.y = data.y;\r\n\t\t\tthis._setObjects(data.objects);\r\n\t\t}\r\n\r\n\t\tgetData(row: number, col: number): number {\r\n\t\t\tif (!this.data) { // An object layer\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tvar index: number = this._getIndex(row, col);\r\n\t\t\treturn this.data[index];\r\n\t\t}\r\n   \r\n\t\tsetData(row: number, col: number, value: number) {\r\n\t\t\tif (!this.data) { // An object layer\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tvar index: number = this._getIndex(row, col);\r\n\t\t\tthis.data[index] = value;\r\n\t\t}\r\n   \r\n\t\tprivate _getIndex(row: number, col: number): number {\r\n\t\t\treturn row * this.map.colCount + col;\r\n\t\t}\r\n   \r\n\t\tgetObjectByName(name: string): TiledObject {\r\n\t\t\treturn this.objectsByName ? this.objectsByName[name] : null;\r\n\t\t}\r\n   \r\n\t\tgetObjectIntersecting(x: number, y: number, w: number, h: number): TiledObject {\r\n\t\t\tif (this.objects) {\r\n\t\t\t\tfor (var i: number = 0; i < this.objects.length; i++) {\r\n\t\t\t\t\tvar obj: TiledObject = this.objects[i];\r\n\t\t\t\t\tif (obj.intersects(x, y, w, h)) {\r\n\t\t\t\t\t\treturn obj;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n   \r\n\t\tisObjectGroup(): boolean {\r\n\t\t\treturn this.type === 'objectgroup';\r\n\t\t}\r\n   \r\n\t\tprivate _setObjects(objects: any) {\r\n\t\t\t'use strict';\r\n\t\t\tif (objects) {\r\n\t\t\t\tthis.objects = [];\r\n\t\t\t\tthis.objectsByName = {};\r\n\t\t\t\tfor (var i: number = 0; i < objects.length; i++) {\r\n\t\t\t\t\tvar obj: TiledObject = new tiled.TiledObject(objects[i]);\r\n\t\t\t\t\tthis.objects.push(obj);\r\n\t\t\t\t\tthis.objectsByName[objects[i].name] = obj;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n}"],"sourceRoot":"/source/"}