{"version":3,"sources":["gtp/StretchMode.ts"],"names":["gtp","gtp.StretchMode","gtp.CanvasResizer","gtp.CanvasResizer.constructor","gtp.CanvasResizer.resize"],"mappings":"AAAA,IAAO,GAAG,CA+GT;AA/GD,WAAO,GAAG,EAAC,CAAC;IACXA,YAAYA,CAACA;IAEbA;;;;;;;;;;;;;;;;;;;;;;;;;OAyBGA;IACHA,WAAYA,WAAWA;QAEtBC;;;;;WAKGA;QACHA,6DAAYA,CAAAA;QAGZA;;;WAGGA;QACHA,6DAAYA,CAAAA;QAGZA;;;;WAIGA;QACHA,6EAAoBA,CAAAA;IACrBA,CAACA,EAxBWD,eAAWA,KAAXA,eAAWA,QAwBtBA;IAxBDA,IAAYA,WAAWA,GAAXA,eAwBXA,CAAAA;IAEDA;;;;;;;;;;;;;;;;;;;OAmBGA;IACHA;QAAAE;QAkCAC,CAACA;QAhCAD;;;;;WAKGA;QACIA,oBAAMA,GAAbA,UAAcA,MAAyBA,EAAEA,WAAwBA;YAEhEE,MAAMA,CAACA,CAACA,WAAWA,CAACA,CAACA,CAACA;gBAErBA,QAAQA;gBACRA,KAAKA,WAAWA,CAACA,YAAYA;oBAC5BA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,GAAGA,MAAMA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;oBACzCA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,MAAMA,GAAGA,IAAIA,CAACA;oBAC3CA,KAAKA,CAACA;gBAEPA,KAAKA,WAAWA,CAACA,YAAYA;oBAC5BA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,GAAGA,QAAQA,CAACA,IAAIA,CAACA,WAAWA,GAAGA,IAAIA,CAACA;oBACtDA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,QAAQA,CAACA,IAAIA,CAACA,YAAYA,GAAGA,IAAIA,CAACA;oBACxDA,KAAKA,CAACA;gBAEPA,KAAKA,WAAWA,CAACA,oBAAoBA;oBACpCA,IAAMA,OAAOA,GAAWA,QAAQA,CAACA,IAAIA,CAACA,WAAWA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,GAAGA,GAAGA,CAACA,CAACA;oBACzEA,IAAMA,OAAOA,GAAWA,QAAQA,CAACA,IAAIA,CAACA,YAAYA,GAAGA,CAACA,MAAMA,CAACA,MAAMA,GAAGA,GAAGA,CAACA,CAACA;oBAC3EA,IAAMA,MAAMA,GAAWA,IAAIA,CAACA,GAAGA,CAACA,OAAOA,EAAEA,OAAOA,CAACA,CAACA;oBAClDA,MAAMA,CAACA,KAAKA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,KAAKA,GAAGA,MAAMA,CAACA,GAAGA,IAAIA,CAACA;oBAC9DA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,MAAMA,GAAGA,MAAMA,CAACA,GAAGA,IAAIA,CAACA;oBAChEA,sCAAsCA;oBACtCA,KAAKA,CAACA;YAERA,CAACA;QACFA,CAACA;QACFF,oBAACA;IAADA,CAlCAF,AAkCCE,IAAAF;IAlCYA,iBAAaA,gBAkCzBA,CAAAA;AAEFA,CAACA,EA/GM,GAAG,KAAH,GAAG,QA+GT","file":"gtp/StretchMode.js","sourcesContent":["module gtp {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * An enum of available stretch modes for games.  While typically used in desktop games, this can be used\r\n\t * in the browser as well, to allow the game to resize as the window is resized, according to their personal\r\n\t * preferences.<p>\r\n\t *\r\n\t * Note that for stretch modes to work, it is assumed that CSS is set up for the application similar to the\r\n\t * following, to allow stretching:\r\n\t *\r\n\t * <pre>\r\n\t * * {\r\n\t *    margin: 0;\r\n\t *    padding: 0;\r\n\t * }\r\n\t * html, body {\r\n\t *    width: 100%;\r\n\t *    height: 100%;\r\n\t * }\r\n\t * </pre>\r\n\t *\r\n\t * <ul>\r\n\t *    <li><code>STRETCH_NONE</code> renders the game in its \"native\" resolution.\r\n\t *    <li><code>STRETCH_FILL</code> makes the canvas fill the parent document.\r\n\t *    <li><code>STRETCH_PROPORTIONAL</code> stretches the canvas so it is as large as possible in the\r\n\t *       parent document, while maintaining its original aspect ratio.\r\n\t * </ul>\r\n\t */\r\n\texport enum StretchMode {\r\n\r\n\t\t/**\r\n\t\t * No stretching is done.  If the area to paint in is smaller than\r\n\t\t * the game's native resolution, the area painted is clipped.  If the\r\n\t\t * area to paint is larger than the game's native resolution, then\r\n\t\t * the extra area is filled with some solid color (e.g. black or white).\r\n\t\t */\r\n\t\tSTRETCH_NONE,\r\n\r\n\r\n\t\t/**\r\n\t\t * The game's graphics are stretched to completely fill the window in\r\n\t\t * which they are being displayed.\r\n\t\t */\r\n\t\tSTRETCH_FILL,\r\n\r\n\r\n\t\t/**\r\n\t\t * The game's graphics are stretched so that they fill as much as possible\r\n\t\t * of the window in which they're being displayed, while maintaining their\r\n\t\t * proper aspect ratio.\r\n\t\t */\r\n\t\tSTRETCH_PROPORTIONAL\r\n\t}\r\n\r\n\t/**\r\n\t * Utility methods to allow desktop games to resize to fit their parent document.  Typically, you will\r\n\t * register an <code>onresize</code> listener on the document body, and call <code>CanvasResizer.resize()</code>\r\n\t * with the appropriate stretch mode parameter.  This allows the user to specify whether they want the game\r\n\t * to stretch to fit, keep proportion, or display in its original resolution.<p>\r\n\t *\r\n\t * Note that for stretch modes to work, it is assumed that CSS is set up for the application similar to the\r\n\t * following, to allow stretching:\r\n\t *\r\n\t * <pre>\r\n\t * * {\r\n\t *    margin: 0;\r\n\t *    padding: 0;\r\n\t * }\r\n\t * html, body {\r\n\t *    width: 100%;\r\n\t *    height: 100%;\r\n\t * }\r\n\t * </pre>\r\n\t */\r\n\texport class CanvasResizer {\r\n\r\n\t\t/**\r\n\t\t * Resizes a canvas to use the specified stretch mode.\r\n\t\t *\r\n\t\t * @param {HTMLCanvasElement} The canvas to resize.\r\n\t\t * @param {gtp.StretchMode} The stretch mode to apply.\r\n\t\t */\r\n\t\tstatic resize(canvas: HTMLCanvasElement, stretchMode: StretchMode) {\r\n\r\n\t\t\tswitch (stretchMode) {\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase StretchMode.STRETCH_NONE:\r\n\t\t\t\t\tcanvas.style.width = canvas.width + 'px';\r\n\t\t\t\t\tcanvas.style.height = canvas.height + 'px';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase StretchMode.STRETCH_FILL:\r\n\t\t\t\t\tcanvas.style.width = document.body.clientWidth + 'px';\r\n\t\t\t\t\tcanvas.style.height = document.body.clientHeight + 'px';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase StretchMode.STRETCH_PROPORTIONAL:\r\n\t\t\t\t\tconst xFactor: number = document.body.clientWidth / (canvas.width * 1.0);\r\n\t\t\t\t\tconst yFactor: number = document.body.clientHeight / (canvas.height * 1.0);\r\n\t\t\t\t\tconst factor: number = Math.min(xFactor, yFactor);\r\n\t\t\t\t\tcanvas.style.width = Math.floor(canvas.width * factor) + 'px';\r\n\t\t\t\t\tcanvas.style.height = Math.floor(canvas.height * factor) + 'px';\r\n\t\t\t\t\t// Centering should be handled via CSS\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"],"sourceRoot":"/source/"}