{"version":3,"sources":["../src/gtp/StretchMode.ts"],"names":[],"mappings":"AAAA,IAAO,GAAG,CA6GT;AA7GD,WAAO,GAAG,EAAC,CAAC;IACX,YAAY,CAAC;IAEb;;;;;;;;;;;;;;;;;;;;;;;;;OAyBG;IACH,WAAY,WAAW;QAEtB;;;;;WAKG;QACH,6DAAY,CAAA;QAEZ;;;WAGG;QACH,6DAAY,CAAA;QAEZ;;;;WAIG;QACH,6EAAoB,CAAA;IACrB,CAAC,EAtBW,eAAW,KAAX,eAAW,QAsBtB;IAtBD,IAAY,WAAW,GAAX,eAsBX,CAAA;IAED;;;;;;;;;;;;;;;;;;;OAmBG;IACH;QAAA;QAkCA,CAAC;QAhCA;;;;;WAKG;QACI,oBAAM,GAAb,UAAc,MAAyB,EAAE,WAAwB;YAEhE,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBAErB,QAAQ;gBACR,KAAK,WAAW,CAAC,YAAY;oBAC5B,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC;oBACzC,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;oBAC3C,KAAK,CAAC;gBAEP,KAAK,WAAW,CAAC,YAAY;oBAC5B,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBACtD,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;oBACxD,KAAK,CAAC;gBAEP,KAAK,WAAW,CAAC,oBAAoB;oBACpC,IAAM,OAAO,GAAW,QAAQ,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,MAAM,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC;oBACzE,IAAM,OAAO,GAAW,QAAQ,CAAC,IAAI,CAAC,YAAY,GAAG,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,CAAC;oBAC3E,IAAM,MAAM,GAAW,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;oBAClD,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC;oBAC9D,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,GAAG,IAAI,CAAC;oBAChE,sCAAsC;oBACtC,KAAK,CAAC;YAER,CAAC;QACF,CAAC;QACF,oBAAC;IAAD,CAlCA,AAkCC,IAAA;IAlCY,iBAAa,gBAkCzB,CAAA;AAEF,CAAC,EA7GM,GAAG,KAAH,GAAG,QA6GT","file":"StretchMode.js","sourcesContent":["module gtp {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * An enum of available stretch modes for games.  While typically used in desktop games, this can be used\r\n\t * in the browser as well, to allow the game to resize as the window is resized, according to their personal\r\n\t * preferences.<p>\r\n\t *\r\n\t * Note that for stretch modes to work, it is assumed that CSS is set up for the application similar to the\r\n\t * following, to allow stretching:\r\n\t *\r\n\t * <pre>\r\n\t * * {\r\n\t *    margin: 0;\r\n\t *    padding: 0;\r\n\t * }\r\n\t * html, body {\r\n\t *    width: 100%;\r\n\t *    height: 100%;\r\n\t * }\r\n\t * </pre>\r\n\t *\r\n\t * <ul>\r\n\t *    <li><code>STRETCH_NONE</code> renders the game in its \"native\" resolution.\r\n\t *    <li><code>STRETCH_FILL</code> makes the canvas fill the parent document.\r\n\t *    <li><code>STRETCH_PROPORTIONAL</code> stretches the canvas so it is as large as possible in the\r\n\t *       parent document, while maintaining its original aspect ratio.\r\n\t * </ul>\r\n\t */\r\n\texport enum StretchMode {\r\n\r\n\t\t/**\r\n\t\t * No stretching is done.  If the area to paint in is smaller than\r\n\t\t * the game's native resolution, the area painted is clipped.  If the\r\n\t\t * area to paint is larger than the game's native resolution, then\r\n\t\t * the extra area is filled with some solid color (e.g. black or white).\r\n\t\t */\r\n\t\tSTRETCH_NONE,\r\n\r\n\t\t/**\r\n\t\t * The game's graphics are stretched to completely fill the window in\r\n\t\t * which they are being displayed.\r\n\t\t */\r\n\t\tSTRETCH_FILL,\r\n\r\n\t\t/**\r\n\t\t * The game's graphics are stretched so that they fill as much as possible\r\n\t\t * of the window in which they're being displayed, while maintaining their\r\n\t\t * proper aspect ratio.\r\n\t\t */\r\n\t\tSTRETCH_PROPORTIONAL\r\n\t}\r\n\r\n\t/**\r\n\t * Utility methods to allow desktop games to resize to fit their parent document.  Typically, you will\r\n\t * register an <code>onresize</code> listener on the document body, and call <code>CanvasResizer.resize()</code>\r\n\t * with the appropriate stretch mode parameter.  This allows the user to specify whether they want the game\r\n\t * to stretch to fit, keep proportion, or display in its original resolution.<p>\r\n\t *\r\n\t * Note that for stretch modes to work, it is assumed that CSS is set up for the application similar to the\r\n\t * following, to allow stretching:\r\n\t *\r\n\t * <pre>\r\n\t * * {\r\n\t *    margin: 0;\r\n\t *    padding: 0;\r\n\t * }\r\n\t * html, body {\r\n\t *    width: 100%;\r\n\t *    height: 100%;\r\n\t * }\r\n\t * </pre>\r\n\t */\r\n\texport class CanvasResizer {\r\n\r\n\t\t/**\r\n\t\t * Resizes a canvas to use the specified stretch mode.\r\n\t\t *\r\n\t\t * @param {HTMLCanvasElement} canvas The canvas to resize.\r\n\t\t * @param {gtp.StretchMode} stretchMode The stretch mode to apply.\r\n\t\t */\r\n\t\tstatic resize(canvas: HTMLCanvasElement, stretchMode: StretchMode) {\r\n\r\n\t\t\tswitch (stretchMode) {\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\tcase StretchMode.STRETCH_NONE:\r\n\t\t\t\t\tcanvas.style.width = canvas.width + 'px';\r\n\t\t\t\t\tcanvas.style.height = canvas.height + 'px';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase StretchMode.STRETCH_FILL:\r\n\t\t\t\t\tcanvas.style.width = document.body.clientWidth + 'px';\r\n\t\t\t\t\tcanvas.style.height = document.body.clientHeight + 'px';\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase StretchMode.STRETCH_PROPORTIONAL:\r\n\t\t\t\t\tconst xFactor: number = document.body.clientWidth / (canvas.width * 1.0);\r\n\t\t\t\t\tconst yFactor: number = document.body.clientHeight / (canvas.height * 1.0);\r\n\t\t\t\t\tconst factor: number = Math.min(xFactor, yFactor);\r\n\t\t\t\t\tcanvas.style.width = Math.floor(canvas.width * factor) + 'px';\r\n\t\t\t\t\tcanvas.style.height = Math.floor(canvas.height * factor) + 'px';\r\n\t\t\t\t\t// Centering should be handled via CSS\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n"]}