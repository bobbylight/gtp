{"version":3,"sources":["gtp/Utils.ts"],"names":[],"mappings":"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","file":"gtp/Utils.js","sourcesContent":["module gtp {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Obligatory utility methods for games.\r\n\t * @constructor\r\n\t */\r\n\texport class Utils {\r\n\r\n\t\t/**\r\n\t\t * Returns the number of elements in an object.\r\n\t\t *\r\n\t\t * @param {object} obj The object.\r\n\t\t * @return {int} The number of elements in the object.\r\n\t\t */\r\n\t\tstatic getObjectSize(obj: Object): number {\r\n\t\t\tvar size: number = 0;\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\t\tsize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn size;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns the value of a request parameter.\r\n\t\t *\r\n\t\t * @param {string} param The name of the request parameter.\r\n\t\t * @return {string} The value of the request parameter, or <code>null</code>\r\n\t\t *         if it was not specified.\r\n\t\t */\r\n\t\tstatic getRequestParam(param: string): string {\r\n\r\n\t\t\t// Replace leading '?' with '&'\r\n\t\t\tvar params: string = '&' + gtp.BrowserUtil.getWindowLocationSearch().substring(1);\r\n\r\n\t\t\tvar searchFor: string = '&' + param;\r\n\t\t\tvar index: number = params.indexOf(searchFor);\r\n\t\t\tif (index >= -1) {\r\n\t\t\t\tvar start: number = index + searchFor.length;\r\n\t\t\t\tif (params.charAt(start) === '=') {\r\n\t\t\t\t\tstart++;\r\n\t\t\t\t\tvar end: number = params.indexOf('&', start); // &foo=val1&bar=val2\r\n\t\t\t\t\tif (end === -1) {\r\n\t\t\t\t\t\tend = params.length; // &foo=val1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.substring(start, end);\r\n\t\t\t\t}\r\n\t\t\t\telse if (params.charAt(start) === '&') {\r\n\t\t\t\t\treturn ''; // &foo&bar\r\n\t\t\t\t}\r\n\t\t\t\telse if (start === params.length) {\r\n\t\t\t\t\treturn ''; // &foo\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Equivlaent to dojo/_base/hitch, returns a function in a specific scope.\r\n\t\t *\r\n\t\t * @param {object} scope The scope to run the function in (e.g. the value of\r\n\t\t *        \"this\").\r\n\t\t * @param {function} func The function.\r\n\t\t * @return {function} A function that does the same thing as 'func', but in the\r\n\t\t *         specified scope.\r\n\t\t */\r\n\t\tstatic hitch(scope: any, func: Function): Function {\r\n\t\t\treturn function() {\r\n\t\t\t\tfunc.apply(scope, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Adds the properties of one element into another.\r\n\t\t *\r\n\t\t * @param {object} source The object with properties to mix into another object.\r\n\t\t * @param {object} target The object that will receive the new properties.\r\n\t\t */\r\n\t\tstatic mixin(source: any, target: any) {\r\n\t\t\tfor (var prop in source) {\r\n\t\t\t\tif (source.hasOwnProperty(prop)) {\r\n\t\t\t\t\t//if (!target[prop]) {\r\n\t\t\t\t\ttarget[prop] = source[prop];\r\n\t\t\t\t\t//}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a random integer between min (inclusive) and max (exclusive).  If\r\n\t\t * max is omitted, the single parameter is treated as the maximum value, and\r\n\t\t * an integer is returned in the range 0 - value.\r\n\t\t *\r\n\t\t * @param {int} [min=0] The minimum possible value, inclusive.\r\n\t\t * @param {int} max The maximum possible value, exclusive.\r\n\t\t * @return {int} The random integer value.\r\n\t\t */\r\n\t\tstatic randomInt(min: number, max: number): number;\r\n\t\tstatic randomInt(max: number): number;\r\n\t\tstatic randomInt(min: number, max?: number): number {\r\n\t\t\tvar realMin: number, realMax: number;\r\n\t\t\tif (typeof max === 'undefined') {\r\n\t\t\t\trealMin = 0;\r\n\t\t\t\trealMax = min;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trealMin = min;\r\n\t\t\t\trealMax = max;\r\n\t\t\t}\r\n\t\t\t// Using Math.round() will give you a non-uniform distribution!\r\n\t\t\treturn Math.floor(Math.random() * (realMax - realMin)) + realMin;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a time in milliseconds.  This will be high resolution, if\r\n\t\t * possible.  This method should be used to implement constructs like\r\n\t\t * delays.\r\n\t\t * @return {number} A time, in milliseconds.\r\n\t\t */\r\n\t\tstatic timestamp(): number {\r\n\t\t\tif (window.performance && window.performance.now) {\r\n\t\t\t\treturn window.performance.now();\r\n\t\t\t}\r\n\t\t\treturn Date.now(); // IE < 10, PhantomJS 1.x, which is used by unit tests\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Defines console functions for IE9 and other braindead browsers.\r\n\t\t */\r\n\t\tstatic initConsole() {\r\n\t\t\t'use strict';\r\n\t\t\tif (!window.console) {\r\n\t\t\t\tvar noOp: Function = function() {};\r\n\t\t\t\twindow.console = <any>{\r\n\t\t\t\t\tinfo: noOp,\r\n\t\t\t\t\tlog: noOp,\r\n\t\t\t\t\twarn: noOp,\r\n\t\t\t\t\t'error': noOp\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}