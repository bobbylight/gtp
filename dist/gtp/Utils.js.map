{"version":3,"sources":["gtp/Utils.ts"],"names":["gtp","gtp.Utils","gtp.Utils.constructor","gtp.Utils.getObjectSize","gtp.Utils.getRequestParam","gtp.Utils.hitch","gtp.Utils.mixin","gtp.Utils.randomInt","gtp.Utils.timestamp","gtp.Utils.initConsole"],"mappings":"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","file":"gtp/Utils.js","sourcesContent":["module gtp {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Obligatory utility methods for games.\r\n\t * @constructor\r\n\t */\r\n\texport class Utils {\r\n\r\n\t\t/**\r\n\t\t * Returns the number of elements in an object.\r\n\t\t *\r\n\t\t * @param {object} obj The object.\r\n\t\t * @return {int} The number of elements in the object.\r\n\t\t */\r\n\t\tstatic getObjectSize(obj: Object): number {\r\n\t\t\tvar size: number = 0;\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (obj.hasOwnProperty(key)) {\r\n\t\t\t\t\tsize++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn size;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns the value of a request parameter.\r\n\t\t *\r\n\t\t * @param {string} param The name of the request parameter.\r\n\t\t * @return {string} The value of the request parameter, or <code>null</code>\r\n\t\t *         if it was not specified.\r\n\t\t */\r\n\t\tstatic getRequestParam(param: string): string {\r\n\r\n\t\t\t// Replace leading '?' with '&'\r\n\t\t\tvar params: string = '&' + gtp.BrowserUtil.getWindowLocationSearch().substring(1);\r\n\r\n\t\t\tvar searchFor: string = '&' + param;\r\n\t\t\tvar index: number = params.indexOf(searchFor);\r\n\t\t\tif (index >= -1) {\r\n\t\t\t\tvar start: number = index + searchFor.length;\r\n\t\t\t\tif (params.charAt(start) === '=') {\r\n\t\t\t\t\tstart++;\r\n\t\t\t\t\tvar end: number = params.indexOf('&', start); // &foo=val1&bar=val2\r\n\t\t\t\t\tif (end === -1) {\r\n\t\t\t\t\t\tend = params.length; // &foo=val1\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn params.substring(start, end);\r\n\t\t\t\t}\r\n\t\t\t\telse if (params.charAt(start) === '&') {\r\n\t\t\t\t\treturn ''; // &foo&bar\r\n\t\t\t\t}\r\n\t\t\t\telse if (start === params.length) {\r\n\t\t\t\t\treturn ''; // &foo\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Equivlaent to dojo/_base/hitch, returns a function in a specific scope.\r\n\t\t *\r\n\t\t * @param {object} scope The scope to run the function in (e.g. the value of\r\n\t\t *        \"this\").\r\n\t\t * @param {function} func The function.\r\n\t\t * @return {function} A function that does the same thing as 'func', but in the\r\n\t\t *         specified scope.\r\n\t\t */\r\n\t\tstatic hitch(scope: any, func: Function): Function {\r\n\t\t\treturn function() {\r\n\t\t\t\tfunc.apply(scope, arguments);\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Adds the properties of one element into another.\r\n\t\t *\r\n\t\t * @param {object} source The object with properties to mix into another object.\r\n\t\t * @param {object} target The object that will receive the new properties.\r\n\t\t */\r\n\t\tstatic mixin(source: any, target: any) {\r\n\t\t\tfor (var prop in source) {\r\n\t\t\t\tif (source.hasOwnProperty(prop)) {\r\n\t\t\t\t\t//if (!target[prop]) {\r\n\t\t\t\t\ttarget[prop] = source[prop];\r\n\t\t\t\t\t//}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a random integer between min (inclusive) and max (exclusive).  If\r\n\t\t * max is omitted, the single parameter is treated as the maximum value, and\r\n\t\t * an integer is returned in the range 0 - value.\r\n\t\t *\r\n\t\t * @param {int} [min=0] The minimum possible value, inclusive.\r\n\t\t * @param {int} max The maximum possible value, exclusive.\r\n\t\t * @return {int} The random integer value.\r\n\t\t */\r\n\t\tstatic randomInt(min: number, max: number): number;\r\n\t\tstatic randomInt(max: number): number;\r\n\t\tstatic randomInt(min: number, max?: number): number {\r\n\t\t\tvar realMin: number,\r\n\t\t\t    realMax: number;\r\n\t\t\tif (typeof max === 'undefined') {\r\n\t\t\t\trealMin = 0;\r\n\t\t\t\trealMax = min;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\trealMin = min;\r\n\t\t\t\trealMax = max;\r\n\t\t\t}\r\n\t\t\t// Using Math.round() will give you a non-uniform distribution!\r\n\t\t\treturn Math.floor(Math.random() * (realMax - realMin)) + realMin;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Returns a time in milliseconds.  This will be high resolution, if\r\n\t\t * possible.  This method should be used to implement constructs like\r\n\t\t * delays.\r\n\t\t * @return {number} A time, in milliseconds.\r\n\t\t */\r\n\t\tstatic timestamp(): number {\r\n\t\t\tif (window.performance && window.performance.now) {\r\n\t\t\t\treturn window.performance.now();\r\n\t\t\t}\r\n\t\t\treturn Date.now(); // IE < 10, PhantomJS 1.x, which is used by unit tests\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Defines console functions for IE9 and other braindead browsers.\r\n\t\t */\r\n\t\tstatic initConsole() {\r\n\t\t\t'use strict';\r\n\t\t\tif (!window.console) {\r\n\t\t\t\tvar noOp: Function = function() {};\r\n\t\t\t\twindow.console = <any>{\r\n\t\t\t\t\tinfo: noOp,\r\n\t\t\t\t\tlog: noOp,\r\n\t\t\t\t\twarn: noOp,\r\n\t\t\t\t\t'error': noOp\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}